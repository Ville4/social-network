"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[981],{5981:function(e,n,r){r.r(n),r.d(n,{default:function(){return k}});var s=r(1413),t=r(885),i={wrapper:"users_wrapper__rTIa8",title:"users_title__h-p0o",container:"users_container__qiTqM",body:"users_body__f-0t7",imgWrapper:"users_imgWrapper__RSmAI",img:"users_img__lchal",buttonWrapper:"users_buttonWrapper__RWZ2x",button:"users_button__n0Bwj",info:"users_info__gDIes",nameWrapper:"users_nameWrapper__e2gHz",locationWrapper:"users_locationWrapper__BO6h1",selected:"users_selected__An48Q",pagination:"users_pagination__uAet1",formItem:"users_formItem__L9Tku",formButton:"users_formButton__ENgFB",imgContainer:"users_imgContainer__JgN2i",form:"users_form__QKeLu"},a=r(2791),l=r(8478),o=r(1563),u=r(501),c=r(5705),d=r(8687),m=function(e){return e.usersPage.users},f=function(e){return e.usersPage.usersPageLimit},p=function(e){return e.usersPage.totalUsersCount},_=function(e){return e.usersPage.currentPage},h=function(e){return e.usersPage.isFetching},g=function(e){return e.usersPage.followingInProgress},v=function(e){return e.usersPage.filter},x=r(184),j=function(e){return{}},N=function(e){var n=(0,d.v9)(v);return(0,x.jsx)(c.J9,{enableReinitialize:!0,initialValues:{term:String(n.term),friend:n.friend},validate:j,onSubmit:function(n,r){var s=r.setSubmitting,t={term:n.term,friend:n.friend};e.onFilterChanged(t),s(!1),e.setCurrentPortion(1)},children:function(e){var n=e.isSubmitting;return(0,x.jsxs)(c.l0,{className:i.form,children:[(0,x.jsx)(c.gN,{className:i.formItem,type:"text",name:"term"}),(0,x.jsxs)(c.gN,{className:i.formItem,as:"select",name:"friend",children:[(0,x.jsx)("option",{value:"null",children:"All"}),(0,x.jsx)("option",{value:"true",children:"Only friends"}),(0,x.jsx)("option",{value:"false",children:"Other users"})]}),(0,x.jsx)("button",{className:i.formButton,type:"submit",disabled:n,children:"Find"})]})}})},b=a.memo(N),C=r(3264),P=r(6864),W=r(1938),w=function(e){var n=(0,d.v9)(p),r=(0,d.v9)(_),c=(0,d.v9)(f),j=(0,d.v9)(v),N=(0,d.v9)(m),w=(0,d.v9)(g),k=(0,d.v9)(h),Z=(0,u.lr)(),y=(0,t.Z)(Z,2),I=y[0],B=y[1];(0,a.useEffect)((function(){var e=I.get("friend");console.log(e),"true"===e&&(e=!0,console.log(e)),"null"===e?(e=null,console.log(e)):(e=!1,console.log(e));var n=I.get("term"),t=I.get("page"),i=r;t&&(i=Number(t));var a=j;n&&(a=(0,s.Z)((0,s.Z)({},a),{},{term:n})),e&&(a=(0,s.Z)((0,s.Z)({},a),{},{friend:e})),F((0,C.aH)(i,c,a))}),[]),(0,a.useEffect)((function(){var e=j.term,n=j.friend,s=(""===e?"":"&term=".concat(e))+(null===n?"":"&friend=".concat(n))+(1===r?"":"&page=".concat(r));B(s)}),[j,r]);for(var F=(0,d.I0)(),S=Math.ceil(n/c),z=Math.ceil(S/5),A=(0,a.useState)(1),L=(0,t.Z)(A,2),O=L[0],Q=L[1],E=5*(O-1)+1,M=5*O,R=[],T=1;T<=S;T++)R.push(T);return(0,x.jsxs)("div",{className:i.wrapper,children:[k?(0,x.jsx)(o.Z,{}):null,(0,x.jsx)(b,{setCurrentPortion:Q,onFilterChanged:function(e){F((0,C.zQ)(1,c,e))}}),(0,x.jsxs)("div",{className:i.container,children:[(0,x.jsxs)("div",{className:i.pagination,children:[O>1&&(0,x.jsx)("button",{onClick:function(){Q(O-1)},children:(0,x.jsx)(P.Z,{})}),R.filter((function(e){return e>=E&&e<=M})).map((function(e){return(0,x.jsx)("span",{className:e===r?i.selected:null,onClick:function(n){!function(e){F((0,C.zQ)(e,c,j))}(e)},children:e},e)})),z>O&&(0,x.jsx)("button",{onClick:function(){Q(O+1)},children:(0,x.jsx)(W.Z,{})})]}),N.map((function(e){return(0,x.jsxs)("div",{className:i.body,children:[(0,x.jsxs)("div",{className:i.imgWrapper,children:[(0,x.jsx)("div",{className:i.imgContainer,children:(0,x.jsx)("div",{className:i.img,children:(0,x.jsx)(u.OL,{to:"/profile/"+e.id,children:(0,x.jsx)("img",{src:null!=e.photos.small?e.photos.small:l,alt:"avatar"})})})}),(0,x.jsx)("div",{className:i.buttonWrapper,children:e.followed?(0,x.jsx)("button",{disabled:w.some((function(n){return n===e.id})),onClick:function(){var n;n=e.id,F((0,C.Yy)(n))},className:i.button,children:"Unfollow"}):(0,x.jsx)("button",{disabled:w.some((function(n){return n===e.id})),onClick:function(){var n;n=e.id,F((0,C.P$)(n))},className:i.button,children:"Follow"})})]}),(0,x.jsxs)("div",{className:i.info,children:[(0,x.jsxs)("div",{className:i.nameWrapper,children:[(0,x.jsx)("h2",{className:i.name,children:e.name}),(0,x.jsx)("div",{className:i.status,children:e.status})]}),(0,x.jsxs)("div",{className:i.locationWrapper,children:[(0,x.jsx)("div",{children:"...info"}),(0,x.jsx)("div",{children:"...info"})]})]})]},e.id)}))]})]})},k=function(e){return(0,x.jsxs)("div",{className:i.wrapper,children:[(0,x.jsx)("h2",{className:i.title,children:"Users"}),(0,x.jsx)(w,{})]})}}}]);
//# sourceMappingURL=981.f68a7f51.chunk.js.map